# hw 10
### 1 Annotations
see annotation [annotations](/ShortQuestions/annotations.md)
### 2 authentication
Authentication is the process of varifying the identity of a user or entity. It involves comfirming that the claimed identity is valid and belongs to the entity that is requesting access to a system or resource. For example, using username and password to log in.
### 3 authorization
Authorization is the process of granting or denying permissions to authenticated users or entities based on their identity and privleges. It ensures that users have appropriate rights to access specific resources or perform certain actions.
### 4 difference between authentication and authorization
Authentication focuses on identity verfication, while authorization focuses on access control and permission. Authentication answers the question "who are you", while authorization answers "does the user can do this?". Both processes work together to ensure secure and controlled access to system and resources.
### 5 HTTP Session
HTTP Session is the concept of maintaining stateful coomunication between a client and a sever over HTTP. It allows the server to recognize and assoicate subsequent requests from the same client. Session content is stored at the server and client has the id of the session. It will be used while the same client request with the session id. 
### 6 Cookie
Cookie is a piece of data from a website that is stored within a web browsert that the website can retrieve at a later time.
### 7 Difference between Session and Cookie
The key difference between Session and Cookie is that Sessions are saved on the server side while cookies are saved on the client side. Sessions have limited lifespan. They are often cleared when the suer logs out or after a certain period of inactivity. Cookies can have different lifespans based on their attributes. Sessions are generally considered more secure while cookies have potential security risks.
### 7 how do we use session and cookie to keep user information across the application
- User authentication: when a user logs into your application, verify their credentials and create a session for that user
- Session creation: generate a unique session ID for the user. Store session ID on the server-side and associate it with the user's data or relevant inforation
- Session ID transmission: send the session id back to the client as a response. You can set a cookie in the response header which contains the session ID.
- cookie retrieval: for subsequent requests from the client, the browser will automatically include the cookie in the request header. This allow the server to recognize and assoicate the request with the session.
- session retrieval: on the server side, retrieve the session ID from the incoming request's cookie. Use the session ID to retrieve the associated user data
- session expiration and cleanup: sessions can have adefined lifespan or may expire after a period of inactivity. implement logic to handle session expiration, clearing session data, and ending the session.
### 8 JWT
Json Web Token is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON.
### 9 Spring Security Filter
A filter is responsible for intercepting incoming requests and outgoing responses, allowing customization and enforcement of security related operations. Filters can be arranged in a chain, as Spring Security filter chain. The filters work together to authenticated users, authorize access to resources, handle login and logout processes, and enforce security rules.
### 11 describe how do JWT work
- Client post the request to the server with client info. For example, the client POST with username and password.
- Server receives the username and password and validate the identity. Generate the JWT using sercret key.
- Sever return the generated JWT. Client receieves it and saves as a cookie or to the local storage.
- Client sent another request to the Sever. For exapmle, it sent GET with JWT in the header.
- Sever validates JWP using secret key and use the payload in JWT.
- Sever return the response
### 12 any Encoder to encode Password?
- BCryptPasswordEncoder: use the bcrypt hasing algorithm. It automatically generates a randoom salt and incorporates it into the encoded password. 
- Pbkdf2PasswordEncoder: use PBKDF2 (Password-Based Key Derivation Function 2) algorithm with HMAC-SHA1 as the underlying hash function. A random salt, the number of iterations and key length for added secrutiy.
- StandardPasswordEncoder: use hasing algorithm based on SHA-256 with a random salt.
### 13
- UserDetailService: used to load user-specific data during the authentication process. It is responsible for retrieving user details such as username, password, and granted authorities from a data source and return them as a instance of UserDetails. Implement this interface and override the `loadUserByUsername()` method.
- AuthenticationProvider: used to authenticate a user based on the provided credentials. It validates the user's credentials, performs any necessary checks, and returns a fully populated Authentication object if the authentication is successful. Implement the interface and override `authenticate()` method.
- AuthenticationManager: used to handle authentication requests. It coordinates the authentication process by delegating the authentication request to one or more configured AuthenticationProviders.
- AuthenticationFilter: used to intercepting incoming HTTP requests and processing the authentication flow. It performs the inittial authentication attempt, typically based on user-provided credentials, and then delegates the authentication process to the configured AuthenticationManager. UsernamePasswordAuthenticationFilter, JwtAuthenticationFilter, OAuth2AuthenticationFilter.
### 14 Disadvantage of Session
Disadvantage of Session:
- Sessions are typically bound to a specific device or browser. If a user wants to access the application from multiple devices simultaneously, session management becomes chanllenging. 
    - implement a combination of session based and stateless approaches, like JWT.
- Sessions require the server to store session data for each active user. It can consume server resources, especially when dealing with a large number of concurrent users
    - Use distributed caching or in-memory data sotres to offload session storage from teh main sever
- for multiple servers or a clustered environment, session replication or sharing mechanism my be required to main session consistency across servers. 
    - implement session replication or shring mechanism, such as using a distributed cache or databse
### 15 how to get value from application.properties


If we have property `app.name` define in application.properties:
- Use `@Value` annotation
```
import org.springframework.beans.factory.annotation.Value;

@Value("${app.name})
private String appName;
```
- the `Environment` object
```
@Autowired
private Environment environment;

String appName = environment.getProperty("app.name");
```
### 16 the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)
`configure(HttpSecurity http)`: configure the security rules and cess restrictions for different HTTP endpoints and requests. It defines how the application should handler authentication, authorization, and other secruity-related aspects.

`configure(AuthenticationManagerBuilder auth)`: configure the mechanism and source of user authentication. It defines the authentication providers, such as in-memory, JDBC, LDAP, or custom provider, and configure how the authentication process should be performed. 
### 17 Spring security authentication and authorization
see 2,3,4
### 18 
see [redbook](/Coding/redbook/)
### 19
[reading](https://www.interviewbit.com/spring-security-interview-questions/#is-security-a-cross-cutting-concern)
 - 1-12
 - 17-30
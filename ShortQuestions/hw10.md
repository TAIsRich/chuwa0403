
# hw 10

## 1. List all of the annotations you learned from class and homework to annotaitons.md

Check ShortQuestion/annotations.md

## What is the authentication?

Authentication is the process of verifying the identity of a user or system. It involves presenting credentials like passwords or biometric data to confirm legitimacy and prevent unauthorized access. Factors such as knowledge (passwords), possession (tokens), or inherence (biometrics) can be used for authentication. It's an important part of security alongside authorization, which controls access to resources after authentication.

## 3. What is the authorization?

Authorization determines what a user or system is allowed to do after authentication. It grants or denies access to resources based on defined permissions and user roles. It helps protect data, maintain security, and prevent unauthorized activities.

## 4. What is the difference between authentication and authorization?

**Authentication:** Verifies identity, answers the question "Who are you?", and ensures the user is legitimate.

**Authorization:** Controls access rights, answers the question "What are you allowed to do?", and determines permissions based on authenticated identity.

## 5. What is HTTP Session?

An HTTP session is a mechanism used to maintain stateful communication between a web server and a web client (typically a web browser) over the Hypertext Transfer Protocol (HTTP). HTTP is a stateless protocol, meaning it does not inherently retain information about past interactions.

To overcome the statelessness of HTTP, sessions are used to store and track user-specific information across multiple requests and responses. When a user accesses a web application, a session is created on the server to associate subsequent requests from that user with their specific session data.

## 6. What is Cookie?
A cookie is a small piece of data stored on a user's device by a web server. It contains information such as preferences or session identifiers. Cookies are sent back to the server with subsequent requests and help personalize web experiences. They can be persistent or session-based and are managed by the user's web browser.

## 7. What is the difference between Session and Cookie?

**Data Storage:** Cookies store data on the client-side (user's browser) as small text files. Sessions, on the other hand, store data on the server-side.

**Location:** Cookies are stored on the user's device, typically as text files or in the browser's cookie storage. Sessions are stored on the web server's memory or in a separate storage system like a database.

**Data Capacity:** Cookies have size limitations, typically around a few kilobytes. Sessions can store larger amounts of data, limited by server-side memory or storage capacity.

**Persistence:** Cookies can be persistent or session-based. Persistent cookies remain on the user's device even after the browser is closed, as they have an expiration date set. Session cookies are temporary and are deleted when the browser session ends.

**Security:** Cookies are vulnerable to tampering and potential security risks, such as cross-site scripting (XSS) attacks. Sessions are generally more secure since the data resides on the server and is not directly accessible or modifiable by the client.

**Access:** Cookies can be accessed and modified by both the client-side (JavaScript) and server-side. Sessions are typically accessed and managed on the server-side.

**Implementation:** Cookies are implemented using HTTP headers to send and receive data between the server and the client. Sessions are managed through session identifiers (session IDs) that are stored in cookies or transmitted in URLs.

## 8. How do we use session and cookie to keep user information across the the application?

**Session Management:**

* When a user logs in or authenticates, create a session on the server-side.
Generate a unique session ID and associate it with the user's session data.
Store the necessary user information in the session data (e.g., user ID, username, preferences).
* Store the session ID on the client-side, typically as a cookie or through URL rewriting.
* On subsequent requests, retrieve the session ID from the client and use it to fetch the associated session data from the server.
Update the session data as needed during the user's interaction with the application.
* Ensure session expiration and proper session management to handle timeouts and inactive sessions.
* 
**Cookie Usage:**

* Cookies can be used to store a session ID or other user-specific information.
* When the user logs in, create a cookie with a unique value (such as a session ID) and set its expiration date.
* Send the cookie to the user's browser as part of the HTTP response headers.
* On subsequent requests, the browser automatically includes the cookie in the HTTP request headers, allowing the server to identify the user.
* Retrieve the session data associated with the cookie value on the server-side and use it to maintain user information.
* Update the cookie as needed to reflect any changes in user data or session status.

## 9. What is JWT?
JWT (JSON Web Token) is an industry-standard format for securely transmitting information between parties as a JSON object. It consists of three parts: a header, a payload, and a signature. JWTs are commonly used for authentication and authorization in web applications. They are compact, self-contained, and can be easily validated by the recipient.

## 10. What is the spring security filter?

In Spring Security, a filter is a fundamental component that participates in the processing of HTTP requests and responses. Spring Security provides a set of filters that help implement various security features and mechanisms in web applications.

The Spring Security filter chain is a series of interconnected filters that are executed in a specific order. Each filter performs a specific security-related task and can modify the request or response as necessary. The filters work together to enforce authentication, authorization, and other security measures.

## 11. decribe how do JWT work

**Token Structure:** JWTs consist of three parts: header, payload, and signature. These parts are encoded and combined into a single string, separated by periods.

**Header:** The header contains metadata about the token, such as the signing algorithm used. It is Base64Url encoded.

**Payload:** The payload contains claims, which are statements about the user or additional data. Claims can include user identification, roles, permissions, and other information. The payload is also Base64Url encoded.

**Signature:** The signature is used to verify the integrity of the token. It is created by combining the encoded header, encoded payload, and a secret or public/private key. The signature ensures that the token has not been tampered with.

**Token Issuance:** When a user authenticates or logs in, the server generates a JWT and signs it with a secret key or private key. The server includes the JWT in the response to the client.

**Token Usage:** The client receives the JWT and includes it in subsequent requests to the server. Typically, the JWT is sent in the Authorization header as a Bearer token.

**Token Verification:** Upon receiving a request with a JWT, the server validates the token. It verifies the signature using the public key or secret key. It also checks the token's expiration time, issued time, and any other custom validation rules.

**Extracting Claims:** After the server verifies the token's authenticity, it decodes the payload to extract the claims. These claims can be used to identify the user, determine their roles or permissions, and personalize the response

## 12. Do you use any Encoder to encode Password?

**BCryptPasswordEncoder:** BCrypt is a hash algorithm that provides high password security by using random salt and adjustable computational cost. BCryptPasswordEncoder is a password encoder provided by Spring Security, which uses the BCrypt algorithm to encrypt passwords.

**PasswordEncoder:** PasswordEncoder is an interface in Spring Security that defines common methods for password encoders. Implementation classes include BCryptPasswordEncoder, NoOpPasswordEncoder (which does not perform password encryption, not recommended), and others.

**MessageDigestPasswordEncoder:** This encoder uses a message digest algorithm for password encryption. It can utilize different message digest algorithms like MD5, SHA-1, SHA-256, etc. However, since message digest algorithms usually do not support salt and iteration count, their security level is lower compared to BCryptPasswordEncoder.

## 13. What is UserDetailService? AuthenticationProvider AuthenticationManager?AuthenticationFilter?

**UserDetailsService:** UserDetailsService is an interface provided by Spring Security that is responsible for retrieving user details from a data source, such as a database or an external service. It is used to load user-specific data during authentication, such as the user's username, password, roles, and other attributes. Implementing this interface allows Spring Security to fetch user details and perform authentication and authorization based on the retrieved information.

**AuthenticationProvider:** An AuthenticationProvider is responsible for authenticating a user's credentials against the user details obtained from a UserDetailsService. It performs the actual authentication process and verifies whether the provided credentials are valid. The AuthenticationProvider can support different authentication mechanisms, such as username-password authentication or token-based authentication. It is configured with one or more instances of AuthenticationProvider in the authentication process.

**AuthenticationManager:** The AuthenticationManager is the core interface in Spring Security responsible for performing the authentication process. It delegates the authentication request to one or more configured AuthenticationProviders. The AuthenticationManager attempts to authenticate the user by passing the user's credentials to the appropriate AuthenticationProvider. It returns an Authentication object if the authentication is successful, indicating that the user is authenticated.

**AuthenticationFilter:** An AuthenticationFilter is a specific type of filter provided by Spring Security that handles the authentication process for incoming requests. It intercepts the request and extracts the user's credentials, typically from request parameters or headers. The AuthenticationFilter then passes the credentials to the AuthenticationManager for authentication. If the authentication is successful, the filter typically generates an authentication token (such as a JWT) and attaches it to the response for future requests.

## 14. What is the disadvantage of Session? how to overcome the disadvantage?

**Disadvantages of sessions:**

* Server-side storage increases memory usage and overhead.
* Sessions can impact scalability, especially with high user traffic.
* Complex session state management in distributed environments.
* Sessions may require additional persistence mechanisms for data durability.

**Ways to overcome these disadvantages:**

* Consider stateless authentication mechanisms like JWT.
* Use distributed caching solutions for efficient session management.
* Explore client-side storage options such as cookies or local storage.
* Store session data in a database or persistent storage for durability.
## 15. how to get value from application.properties?

Use @Value Annotation: You can directly inject the property value into a field or method parameter using the @Value annotation. Specify the key of the property as a parameter of the annotation, like this:
```java
@Value("${property.key}")
private String propertyValue;
```

## 16. What is the role of configure(HttpSecurity http) and
configure(AuthenticationManagerBuilder auth)?

**configure(HttpSecurity http):** This method is used to configure security for HTTP requests. It allows you to specify access rules, authentication requirements, and other security configurations for different URL patterns or endpoints in your application. Inside this method, you can define which endpoints are accessible to authenticated users, set up form-based or token-based authentication, enable or disable CSRF protection, configure session management, handle authorization rules, and more.

**configure(AuthenticationManagerBuilder auth):** This method is used to configure the authentication mechanism. It allows you to define how Spring Security should authenticate users and where user information is stored. You can configure authentication providers, such as in-memory user details, JDBC-based authentication, LDAP authentication, or custom authentication providers. You can also set up password encoders, specify user roles and permissions, and configure additional authentication-related settings.

## 17. What is Spring security authentication and authorization?

**Authentication:** Authentication is the process of verifying the identity of a user. In Spring Security, authentication involves validating the user's credentials, such as username and password, and determining if the user is authorized to access protected resources. Spring Security provides various authentication mechanisms, including form-based authentication, token-based authentication (like JWT), OAuth, and integration with external identity providers.

**Authorization:** Authorization is the process of determining whether a user has the necessary privileges to perform a specific operation or access a particular resource. Once a user is successfully authenticated, Spring Security enables you to define fine-grained access control rules based on roles, permissions, or other criteria. You can specify who can access certain URLs, APIs, or methods, and what actions they are allowed to perform.
